<link rel="import" href="chrome://resources/html/polymer.html">

<link rel="import" href="chrome://resources/cr_elements/cr_icon_button/cr_icon_button.html">
<link rel="import" href="chrome://resources/cr_elements/cr_icons_css.html">
<link rel="import" href="../settings_shared_css.html">
<link rel="import" href="../site_favicon.html">
<link rel="import" href="passwords_shared_css.html">
<link rel="import" href="show_password_behavior.html">
<link rel="import" href="password_manager_proxy.html">

<dom-module id="password-check-list-item">
  <template>
    <style include="settings-shared passwords-shared">
      .icon-column {
        align-items: center;
        height: 16px;
        margin-inline-end: 16px;
      }

      #change-password-link-icon {
        height: 16px;
        margin-inline-start: 10px;
        width: 16px;
        --iron-icon-fill-color: var(--text-color-action);
      }

      #icon-more-vert {
        height: 32px;
        width: 32px;
      }

      #leakedPassword {
        background-color: transparent;
        border: none;
        color: inherit;
      }

      #leaked-item {
        margin-bottom: 12px;
        margin-top: 12px;
      }

      #leaked-info {
        flex: 1;
      }
    </style>
    <div class="list-item" id="leaked-item">
      <div class="icon-column">
        <site-favicon url="[[item.changePasswordUrl]]"></site-favicon>
      </div>

      <div class="info-column two-line" id="leaked-info">
        <div class="start text">
          <div id="leakOrigin">[[item.formattedOrigin]]</div>
          <div>
            <span class="secondary" id="leakUsername">[[item.username]]</span>
            <input id="leakedPassword" type="password" value="[[password_]]"
                readonly disabled>
          </div>
          <div class="secondary"
              id="leakType">[[getCompromiseType_(item)]]
          </div>
          <div class="secondary"
              id="elapsedTime">[[item.elapsedTimeSinceCompromise]]
          </div>
        </div>
      </div>
      <div class="button-container">
        <!-- TODO:(https://crbug.com/1047726) add 'Already changed this password?' link -->
        <cr-button class="action-button" on-click="onChangePasswordClick_">
          $i18n{changePasswordButton}
          <iron-icon icon="cr:open-in-new" id="change-password-link-icon">
          </iron-icon>
        </cr-button>
      </div>
      <cr-icon-button class="icon-more-vert" id="more"
          title="$i18n{moreActions}" on-click="onMoreClick_">
      </cr-icon-button>
    </div>
  </template>
  <script src="password_check_list_item.js"></script>
</dom-module>
